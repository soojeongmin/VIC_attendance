<!DOCTYPE html>
<html>
<head>
  <base target="_top" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ì¢Œì„ ì¡°íšŒ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      padding: 40px;
      width: 100%;
      max-width: 500px;
    }

    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 10px;
      font-size: 2em;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
      font-size: 0.9em;
    }

    .search-box {
      margin-bottom: 30px;
    }

    .search-box label {
      display: block;
      margin-bottom: 8px;
      color: #555;
      font-weight: bold;
    }

    .search-input-group {
      display: flex;
      gap: 10px;
    }

    input[type="text"] {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid #ddd;
      border-radius: 10px;
      font-size: 1em;
      transition: border-color 0.3s;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #667eea;
    }

    button {
      padding: 12px 24px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }

    button:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    .result-area {
      display: none;
      margin-top: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 15px;
      animation: fadeIn 0.3s;
    }

    .result-area.show {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .student-info {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .student-info h3 {
      color: #667eea;
      margin-bottom: 15px;
      font-size: 1.2em;
    }

    .info-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }

    .info-row:last-child {
      border-bottom: none;
    }

    .info-label {
      color: #666;
      font-weight: bold;
    }

    .info-value {
      color: #333;
    }

    .seat-button {
      width: 100%;
      padding: 16px;
      margin-top: 15px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.1em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    .seat-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }

    .seat-button:active {
      transform: translateY(0);
    }

    .no-result {
      text-align: center;
      color: #666;
      padding: 30px;
      font-size: 1.1em;
    }

    .loading {
      text-align: center;
      color: #667eea;
      padding: 20px;
      font-size: 1em;
    }

    .error {
      background: #fee;
      color: #c33;
      padding: 15px;
      border-radius: 10px;
      margin-top: 15px;
      text-align: center;
    }

    /* ì¢Œì„ ë°°ì¹˜ë„ ëª¨ë‹¬ */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      animation: fadeIn 0.3s;
    }

    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 30px;
      border-radius: 20px;
      width: 95%;
      max-width: 1200px;
      max-height: 85vh;
      overflow-y: auto;
      position: relative;
    }

    .close {
      position: absolute;
      right: 20px;
      top: 20px;
      color: #aaa;
      font-size: 35px;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s;
      z-index: 10;
    }

    .close:hover {
      color: #000;
    }

    .classroom-title {
      text-align: center;
      color: #667eea;
      margin-bottom: 30px;
      font-size: 2em;
    }

    #seatGrid {
      padding: 0 20px;
    }

    .seat-row {
      display: flex;
      flex-wrap: nowrap;
      justify-content: flex-start;
      margin-bottom: 10px;
    }

    .spacer {
      width: 40px;
    }

    .seat {
      min-width: 60px;
      height: 60px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: 0.75em;
      line-height: 1.2;
      overflow: hidden;
      border: 2px solid #ddd;
      border-radius: 6px;
      background: white;
      margin: 2px;
      cursor: default;
      transition: all 0.3s;
      padding: 4px;
    }

    .seat span {
      margin: 0;
      padding: 0;
      text-align: center;
    }

    .seatId {
      font-weight: bold;
      color: #333;
      font-size: 0.9em;
    }

    .studentName {
      color: #666;
      font-size: 0.85em;
    }

    .empty-seat {
      visibility: hidden !important;
    }

    .seat.highlight {
      border: 4px solid #ff0000 !important;
      background: #ffe0e0 !important;
      animation: pulse 1.5s infinite;
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
      transform: scale(1.1);
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1.1);
      }
      50% {
        transform: scale(1.15);
      }
    }

    /* ë°˜ì‘í˜• */
    @media (max-width: 600px) {
      .container {
        padding: 25px;
      }

      h1 {
        font-size: 1.5em;
      }

      .modal-content {
        padding: 20px;
        margin: 10% auto;
      }

      .seat {
        min-width: 50px;
        height: 50px;
        font-size: 0.65em;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” ì¢Œì„ ê²€ìƒ‰</h1>
    <p class="subtitle">í•™ë²ˆì„ ì…ë ¥í•˜ì—¬ ìë¦¬ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>

    <div class="search-box">
      <label for="studentId">í•™ë²ˆ:</label>
      <div class="search-input-group">
        <input type="text" id="studentId" placeholder="10000" />
        <button onclick="searchSeat()">ê²€ìƒ‰</button>
      </div>
    </div>

    <div id="resultArea" class="result-area"></div>
  </div>

  <!-- ì¢Œì„ ë°°ì¹˜ë„ ëª¨ë‹¬ -->
  <div id="seatModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h2 id="modalClassroom" class="classroom-title"></h2>
      <div id="seatGrid"></div>
    </div>
  </div>

  <script>
    let studentMap = {};
    let currentStudent = null;

    // ì „ì²´ í•™ìƒ ë°ì´í„° ë¡œë“œ
    function loadStudentData() {
      google.script.run
        .withSuccessHandler(function(data) {
          studentMap = data;
          console.log("í•™ìƒ ë°ì´í„° ë¡œë“œ ì™„ë£Œ:", Object.keys(studentMap).length + "ëª…");
        })
        .withFailureHandler(function(error) {
          console.error("ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:", error);
        })
        .getStudentMap();
    }

    // í•™ë²ˆìœ¼ë¡œ ê²€ìƒ‰
    function searchSeat() {
      const studentId = document.getElementById('studentId').value.trim();
      const resultArea = document.getElementById('resultArea');

      if (!studentId) {
        alert("í•™ë²ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        return;
      }

      resultArea.innerHTML = '<div class="loading">ğŸ” ê²€ìƒ‰ ì¤‘...</div>';
      resultArea.classList.add('show');

      google.script.run
        .withSuccessHandler(displayResult)
        .withFailureHandler(function(error) {
          resultArea.innerHTML = '<div class="error">âŒ ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.<br>' + error.message + '</div>';
        })
        .searchStudentByStudentId(studentId);
    }

    // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
    function displayResult(student) {
      const resultArea = document.getElementById('resultArea');

      if (!student) {
        resultArea.innerHTML = '<div class="no-result">ğŸ˜• ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.<br>í•™ë²ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.</div>';
        return;
      }

      const displaySeat = student.movedSeat || student.seat;
      const displayClassroom = student.movedSeat ? student.movedSeat.split('-')[0] : student.classroom;
      const moveInfo = student.movedSeat ? ' (ë°œì „ì‹¤ ì´ë™)' : '';

      let html = '<div class="student-info">';
      html += '<h3>ğŸ“‹ í•™ìƒ ì •ë³´</h3>';
      html += `
        <div class="info-row">
          <span class="info-label">ğŸ‘¤ ì´ë¦„</span>
          <span class="info-value">${student.name}</span>
        </div>
        <div class="info-row">
          <span class="info-label">ğŸ« í•™ë²ˆ</span>
          <span class="info-value">${student.studentId}</span>
        </div>
        <div class="info-row">
          <span class="info-label">ğŸ  HR</span>
          <span class="info-value">${student.hr}</span>
        </div>
        <div class="info-row">
          <span class="info-label">ğŸ“ ì¢Œì„</span>
          <span class="info-value">${displaySeat}${moveInfo}</span>
        </div>
        <div class="info-row">
          <span class="info-label">ğŸšª êµì‹¤</span>
          <span class="info-value">${displayClassroom}</span>
        </div>
        <button class="seat-button" onclick='showSeatMap(${JSON.stringify(student)})'>
          ğŸ—ºï¸ ì¢Œì„ ìœ„ì¹˜ ë³´ê¸°
        </button>
      `;
      html += '</div>';
      
      resultArea.innerHTML = html;
    }

    // ì¢Œì„ ë°°ì¹˜ë„ í‘œì‹œ (index.htmlì˜ ì‹¤ì œ ë ˆì´ì•„ì›ƒ ì‚¬ìš©)
    function showSeatMap(student) {
      currentStudent = student;
      const modal = document.getElementById('seatModal');
      const modalClassroom = document.getElementById('modalClassroom');
      const seatGrid = document.getElementById('seatGrid');

      const displaySeat = student.movedSeat || student.seat;
      const displayClassroom = student.movedSeat ? student.movedSeat.split('-')[0] : student.classroom;

      modalClassroom.textContent = displayClassroom;

      // êµì‹¤ë³„ ê·¸ë¦¬ê¸° í•¨ìˆ˜ ë§¤í•‘
      const drawFunctions = {
        '4A': draw4ASeats,
        '4B': draw4BSeats,
        '4C': draw4CSeats,
        '4D': draw4DSeats,
        'C407': drawC407Seats,
        'C409': drawC409Seats,
        'A401': () => drawDynamicClassroom("A401", 6, 5),
        'A402': () => drawDynamicClassroom("A402", 6, 5),
        'A408': () => drawDynamicClassroom("A408", 6, 5),
        'êµë¬´ì‹¤': drawStaffRoom

      };

      const drawFn = drawFunctions[displayClassroom];
      if (drawFn) {
        drawFn(displaySeat);
      } else {
        alert("í•´ë‹¹ êµì‹¤ì˜ ì¢Œì„ ë°°ì¹˜ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.");
        return;
      }

      modal.style.display = 'block';

      // í•˜ì´ë¼ì´íŠ¸ëœ ì¢Œì„ìœ¼ë¡œ ìŠ¤í¬ë¡¤
      setTimeout(() => {
        const highlightedSeat = document.querySelector('.seat.highlight');
        if (highlightedSeat) {
          highlightedSeat.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }, 100);
    }

    // ë ˆì´ì•„ì›ƒ ë Œë”ë§ í•¨ìˆ˜
    function renderSeatLayout(layout, highlightSeat) {
      const grid = document.getElementById("seatGrid");
      grid.innerHTML = "";
      
      layout.forEach(row => {
        if (row[0] === "br") {
          const br = document.createElement("div");
          br.style.height = "24px";
          grid.appendChild(br);
        } else {
          const rowDiv = document.createElement("div");
          rowDiv.className = "seat-row";
          row.forEach(cell => {
            if (cell === "sp") {
              const spacer = document.createElement("div");
              spacer.className = "spacer";
              rowDiv.appendChild(spacer);
            } else if (cell === "empty") {
              const emptyBtn = document.createElement("div");
              emptyBtn.className = "seat empty-seat";
              rowDiv.appendChild(emptyBtn);
            } else {
              rowDiv.appendChild(createSeatElement(cell, highlightSeat));
            }
          });
          grid.appendChild(rowDiv);
        }
      });
    }

    // ì¢Œì„ ìš”ì†Œ ìƒì„±
    function createSeatElement(seatId, highlightSeat) {
      const div = document.createElement("div");
      div.className = "seat";
      div.dataset.seatId = seatId;

      const student = studentMap[seatId];
      const name = student?.name?.trim() || "";

      // í•˜ì´ë¼ì´íŠ¸ ì²´í¬
      const isHighlight = highlightSeat === seatId;
      if (isHighlight) {
        div.classList.add('highlight');
      }

      div.innerHTML = `
        <span class="seatId">${seatId}</span>
        <span class="studentName">${name}</span>
      `;

      return div;
    }

    // ë™ì  êµì‹¤ ê·¸ë¦¬ê¸° (ë°œì „ì‹¤ìš©)
    function drawDynamicClassroom(prefix, cols, rows, highlightSeat) {
      const grid = document.getElementById("seatGrid");
      grid.innerHTML = "";

      const seats = [];
      let num = 1;
      for (let r = 0; r < rows; r++) {
        seats.push([]);
        for (let c = 0; c < cols; c++) {
          seats[r][c] = prefix + "-" + String(num).padStart(3, "0");
          num++;
        }
      }

      for (let c = 0; c < cols; c++) {
        const rowDiv = document.createElement("div");
        rowDiv.className = "seat-row";
        for (let r = 0; r < rows; r++) {
          const seatId = seats[r][c];
          const seatEl = createSeatElement(seatId, highlightSeat);
          rowDiv.appendChild(seatEl);
        }
        grid.appendChild(rowDiv);
      }
    }

    // 4A êµì‹¤ ë ˆì´ì•„ì›ƒ
    function draw4ASeats(highlightSeat) {
      const layout = [
        ["4A146", "4A145", "4A144", "4A143", "4A142", "sp", "4A141", "4A140", "4A139", "4A138", "4A137"],
        ["br"],
        ["4A136", "4A135", "4A134", "4A133", "4A132", "sp", "4A131", "4A130", "4A129", "4A128", "4A127", "4A126"],
        ["4A125", "4A124", "4A123", "4A122", "4A121", "sp", "4A120", "4A119", "4A118", "4A117", "4A116", "4A115"],
        ["br"],
        ["4A114", "4A113", "4A112", "4A111", "4A110", "sp", "4A109", "4A108", "4A107", "4A106", "4A105", "4A104"],
        ["4A103", "4A102", "4A101", "4A100", "4A099", "sp", "4A098", "4A097", "4A096", "4A095", "4A094", "4A093"],
        ["br"],
        ["4A092", "4A091", "4A090", "4A089", "4A088", "sp", "4A087", "4A086", "4A085", "4A084"],
        ["4A083", "4A082", "4A081", "4A080", "4A079", "sp", "4A078", "4A077", "4A076", "4A075"],
        ["br"],
        ["4A074", "4A073", "4A072", "4A071", "4A070", "sp", "4A069", "4A068", "4A067", "4A066", "4A065", "4A064"],
        ["4A063", "4A062", "4A061", "4A060", "4A059", "sp", "4A058", "4A057", "4A056", "4A055", "4A054", "4A053"],
        ["br"],
        ["4A052", "4A051", "4A050", "4A049", "4A048", "sp", "4A047", "4A046", "4A045", "4A044", "4A043", "4A042"],
        ["4A041", "4A040", "4A039", "4A038", "4A037", "sp", "4A036", "4A035", "4A034", "4A033", "4A032", "4A031"],
        ["br"],
        ["4A030", "4A029", "4A028", "4A027", "4A026", "sp", "4A025", "4A024", "4A023", "4A022", "4A021"],
        ["4A020", "4A019", "4A018", "4A017", "4A016", "sp", "4A015", "4A014", "4A013", "4A012", "4A011"],
        ["br"],
        ["4A010", "4A009", "4A008", "4A007", "4A006", "sp", "4A005", "4A004", "4A003", "4A002", "4A001"]
      ];
      renderSeatLayout(layout, highlightSeat);
    }

    // 4B êµì‹¤ ë ˆì´ì•„ì›ƒ
    function draw4BSeats(highlightSeat) {
      const layout = [
        ["4B061", "4B060", "4B059", "4B058", "4B057", "sp", "4B056", "4B055", "4B054", "4B053", "4B052", "sp", "4B051", "4B050", "4B049"],
        ["4B048", "4B047", "4B046", "4B045", "4B044", "sp", "4B043", "4B042", "4B041", "4B040", "4B039", "sp", "4B038", "4B037", "4B036"],
        ["br"],
        ["4B035", "4B034", "4B033", "4B032", "4B031", "sp", "4B030", "4B029", "4B028", "4B027", "4B026", "sp", "4B025", "4B024", "4B023"],
        ["4B022", "4B021", "4B020", "4B019", "4B018", "sp", "4B017", "4B016", "4B015", "4B014", "4B013", "sp", "4B012", "4B011", "4B010"],
        ["br"],
        ["4B009", "4B008", "4B007", "4B006", "4B005", "sp", "empty", "4B004", "4B003", "4B002", "4B001"]
      ];
      renderSeatLayout(layout, highlightSeat);
    }

    // 4C êµì‹¤ ë ˆì´ì•„ì›ƒ
    function draw4CSeats(highlightSeat) {
      const layout = [
        ["4C053", "4C052", "4C051", "4C050", "4C049", "4C048", "4C047", "sp", "4C046", "4C045", "4C044", "4C043", "4C042"],
        ["4C041", "4C040", "4C039", "4C038", "4C037", "4C036", "4C035", "sp", "4C034", "4C033", "4C032", "4C031", "4C030"],
        ["br"],
        ["4C029", "4C028", "4C027", "4C026", "4C025", "4C024", "4C023", "sp", "4C022", "4C021", "4C020", "4C019", "4C018"],
        ["4C017", "4C016", "4C015", "4C014", "4C013", "4C012", "4C011", "sp", "4C010", "4C009", "4C008", "4C007", "4C006"],
        ["br"],
        ["empty", "empty", "4C005", "4C004", "4C003", "empty", "empty", "sp", "empty", "empty","empty", "4C002", "4C001"]
      ];
      renderSeatLayout(layout, highlightSeat);
    }

    // 4D êµì‹¤ ë ˆì´ì•„ì›ƒ
    function draw4DSeats(highlightSeat) {
      const layout = [
        ["4D120", "4D119", "4D118", "4D117", "4D116", "4D115", "sp", "4D114", "4D113", "4D112", "4D111", "4D110"],
        ["4D109", "4D108", "4D107", "4D106", "4D105", "4D104", "sp", "4D103", "4D102", "4D101", "4D100", "4D099"],
        ["br"],
        ["4D098", "4D097", "4D096", "4D095", "4D094", "4D093", "sp", "4D092", "4D091", "4D090", "4D089", "4D088"],
        ["4D087", "4D086", "4D085", "4D084", "4D083", "4D082", "sp", "4D081", "empty", "empty", "4D080", "4D079"],
        ["br"],
        ["4D078", "4D077", "4D076", "4D075", "4D074", "4D073", "sp", "4D072", "4D071", "4D070", "4D069", "4D068"],
        ["4D067", "4D066", "4D065", "4D064", "4D063", "4D062", "sp", "4D061", "4D060", "4D059", "4D058", "4D057"],
        ["br"],
        ["4D056", "4D055", "4D054", "4D053", "4D052", "4D051", "sp", "4D050", "4D049", "4D048", "4D047", "4D046"],
        ["4D045", "4D044", "4D043", "4D042", "4D041", "4D040", "sp", "4D039", "4D038", "4D037", "4D036", "4D035"],
        ["br"],
        ["4D034", "4D033", "4D032", "4D031", "4D030", "4D029", "sp", "4D028", "empty", "empty", "4D027", "4D026"],
        ["4D025", "4D024", "4D023", "4D022", "4D021", "4D020", "sp", "4D019", "4D018", "4D017", "4D016", "4D015"],
        ["br"],
        ["empty", "empty", "4D014", "4D013", "4D012", "4D011", "sp", "4D010", "4D009", "4D008", "4D007", "4D006"],
        ["empty", "empty", "empty", "empty", "empty", "empty", "sp", "4D005", "4D004", "4D003", "4D002", "4D001"]
      ];
      renderSeatLayout(layout, highlightSeat);
    }

    // C407 êµì‹¤ ë ˆì´ì•„ì›ƒ
    function drawC407Seats(highlightSeat) {
      const layout = [
        ["C407-001", "C407-007", "C407-013", "C407-019", "C407-025"],
        ["br"],
        ["C407-002", "C407-008", "C407-014", "C407-020", "C407-026"],
        ["br"],
        ["C407-003", "C407-009", "C407-015", "C407-021", "C407-027"],
        ["br"],
        ["C407-004", "C407-010", "C407-016", "C407-022", "C407-028"],
        ["br"],
        ["C407-005", "C407-011", "C407-017", "C407-023", "C407-029"],
        ["br"],
        ["C407-006", "C407-012", "C407-018", "C407-024", "C407-030"]
      ];
      renderSeatLayout(layout, highlightSeat);
    }

    // C409 êµì‹¤ ë ˆì´ì•„ì›ƒ
    function drawC409Seats(highlightSeat) {
      const layout = [
        ["C409-001", "C409-007", "C409-013", "C409-019", "C409-025","C409-031"],
        ["br"],
        ["C409-002", "C409-008", "C409-014", "C409-020", "C409-026","C409-032"],
        ["br"],
        ["C409-003", "C409-009", "C409-015", "C409-021", "C409-027","C409-033"],
        ["br"],
        ["C409-004", "C409-010", "C409-016", "C409-022", "C409-028","C409-034"],
        ["br"],
        ["C409-005", "C409-011", "C409-017", "C409-023", "C409-029","C409-035"],
        ["br"],
        ["C409-006", "C409-012", "C409-018", "C409-024", "C409-030","C409-036"]
      ];
      renderSeatLayout(layout, highlightSeat);
    }

function drawStaffRoom(highlightSeat) {
  const layout = [
    ["êµë¬´ì‹¤-10100", "êµë¬´ì‹¤-10400", "sp", "êµë¬´ì‹¤-10500", "êµë¬´ì‹¤-10800", "sp", "êµë¬´ì‹¤-10000", "sp", "êµë¬´ì‹¤-10900", "êµë¬´ì‹¤-11200"],
    ["êµë¬´ì‹¤-10200", "êµë¬´ì‹¤-10300", "sp", "êµë¬´ì‹¤-10600", "êµë¬´ì‹¤-10700", "sp", "ìº¡ì²˜ í›„ êµë¬´ì‹¤ë¡œ<br>-ìƒí’ˆìˆìŒ-<br>Easter eggğŸ£", "sp", "êµë¬´ì‹¤-11000", "êµë¬´ì‹¤-11100"]
  ];
  renderSeatLayout(layout, highlightSeat);
}

    // ëª¨ë‹¬ ë‹«ê¸°
    function closeModal() {
      document.getElementById('seatModal').style.display = 'none';
    }

    // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
    window.onclick = function(event) {
      const modal = document.getElementById('seatModal');
      if (event.target === modal) {
        closeModal();
      }
    }

    // Enter í‚¤ë¡œ ê²€ìƒ‰
    document.getElementById('studentId').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        searchSeat();
      }
    });

    // í˜ì´ì§€ ë¡œë“œ ì‹œ í•™ìƒ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
    window.onload = function() {
      loadStudentData();
    };
  </script>
</body>
</html>